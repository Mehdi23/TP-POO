<!doctype html>
<html>
<head>
	<title>Personnage</title>
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
</head>
<body>
<form action="Validation" enctype="text/plain" method="post" name="Personnages">
<p><strong><span style="font-size: 18px;">Personnage</span></strong></p>

<p>ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<input id="id" type="text" /></p>

<p>Nom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input id="nom" type="text" /></p>

<p>Niveau&nbsp;&nbsp; &nbsp; <input id="niveau" type="text" /></p>

<p>Vie&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; <input id="vie" type="text" /></p>

<p><input id="validPersonnage" type="button" value="OK" /></p>
</form>
<script>
var rootURL = "http://mehdiappk.appspot.com/rest"
var path = "personnage"

$( "#validPersonnage" ).click(function() {
  $.ajax({
		type : 'POST',
		url : rootURL + '/' + path,
		contentType: 'application/json',
		dataType : "json",
		data : formToJSON(),
		success : function(data) {
			alert('cool');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			alert('Error : ' + textStatus);
		}
	});
});

// Helper function to serialize all the form fields into a JSON string
function formToJSON() {
    return JSON.stringify({
        "id": $('#id').val(),
        "nom":$('#nom').val(),
        "niveau":$('#niveau').val(),
        "vie":$('#vie').val()
    });
}

</script></body>
</html>

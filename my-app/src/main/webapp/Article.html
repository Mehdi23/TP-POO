<!doctype html>
<html>
<head>
	<title>Article</title>
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
</head>
<body>
<form action="Validation" enctype="text/plain" method="post" name="Personnages">
<p><strong><span style="font-size: 18px">Article</span></strong></p>

<p>ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<input id="id" type="text" /></p>

<p>Nom1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input id="nom1" type="text" /></p>

<p>Nom2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input id="nom2" type="text" /></p>

<p>Nom3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input id="nom3" type="text" /></p>

<p>Prix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<input id="prix" type="text" /></p>

<p>Description1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<textarea id="desc1"></textarea></p>

<p>Description2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<textarea id="desc2"></textarea></p>

<p>Description3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<textarea id="desc3"></textarea></p>

<p><input id="validArticle" type="button" value="OK" /></p>
</form>
<script>
var rootURL = "http://localhost:8080/rest"
var path = "article"

$( "#validArticle" ).click(function() {
  $.ajax({
		type : 'POST',
		url : rootURL + '/' + path,
		contentType: 'application/json',
		dataType : "jsonp",
		data : formToJSON(),
		success : function(data) {
			alert('cool');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			alert('Error : ' + textStatus);
		}
	});
});

// Helper function to serialize all the form fields into a JSON string
function formToJSON() {
    return JSON.stringify({
        "id": $('#id').val(),
        "nom1":$('#nom1').val(),
        "nom2":$('#nom2').val(),
        "nom3":$('#nom3').val(),
        "prix":$('#prix').val(),
        "desc1":$('#desc1').val(),
        "desc2":$('#desc2').val(),
        "desc3":$('#desc3').val()
    });
}

</script></body>
</html>
